# 8. イベントテンプレート（EventTemplate）

- 索引: [機能仕様書](../functions.md)
- 関連要件: [要求仕様書](../requirements.md)
- 関連ユースケース: [ユースケース定義書](../usecases.md)

---

## 8.1 定義

繰り返し発生するイベントのテンプレート。

## 8.2 属性

| 属性名              | 型                        | 必須 | 説明                 |
| ------------------- | ------------------------- | ---- | -------------------- |
| id                  | ID                        | ○    | 一意識別子           |
| name                | 文字列                    | ○    | テンプレート名       |
| defaultTransactions | 配列<TemplateTransaction> | ○    | デフォルトの取引定義 |

## 8.2.1 TemplateTransaction

| 属性名     | 型       | 必須 | 説明                                                               |
| ---------- | -------- | ---- | ------------------------------------------------------------------ |
| categoryId | ID       | ○    | 対象カテゴリ（`status=active` かつ積立定義非紐付けのカテゴリのみ） |
| amount     | 正の整数 | ○    | 金額                                                               |
| name       | 文字列   | ○    | 名前（取引を説明する名称）                                         |

- `Transaction.type` は `categoryId` が参照する `Category.type` から保存時に自動決定する
- テンプレート定義自体は `type` 属性を持たない

## 8.3 用途例

- 給与セット（基本給・交通費・控除など一括入力）
- 旅行パターン（交通費・宿泊費・食費など）
- ボーナス配分

## 8.4 仕様

- テンプレートからイベントを作成し、トランザクションを一括登録できる
- 一括登録時に金額の調整が可能
- 給与は特別扱いしない（通常のテンプレートとして定義）
- 積立定義が紐づくカテゴリはテンプレート取引として登録できない

---
